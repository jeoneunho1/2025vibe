import streamlit as st

# ì•± ì œëª©
st.title("ğŸ“ 2028 ë‚´ì‹  ì„±ì·¨ë„ ë¶„ì„ê¸° (ì ˆëŒ€í‰ê°€ 5ë“±ê¸‰ì œ ê¸°ë°˜)")
st.caption("ì£¼ìš” ê³¼ëª© + ë‹¨ìœ„ìˆ˜ ë°˜ì˜ í‰ê·  ë“±ê¸‰ â†’ ì„¸ë¶„í™”ëœ ëŒ€í•™ ì˜ˆì¸¡ & ë³´ì™„ ì „ëµ ì œê³µ")

# ë“±ê¸‰ ì ìˆ˜ ë§¤í•‘
grade_score = {
    "1ë“±ê¸‰": 1.0,
    "2ë“±ê¸‰": 2.0,
    "3ë“±ê¸‰": 3.0,
    "4ë“±ê¸‰": 4.0,
    "5ë“±ê¸‰": 5.0
}

# ê³¼ëª©ê³¼ ë‹¨ìœ„ìˆ˜
subjects = [
    {"name": "êµ­ì–´", "unit": 4},
    {"name": "ì˜ì–´", "unit": 4},
    {"name": "ìˆ˜í•™", "unit": 4},
    {"name": "ì‚¬íšŒ", "unit": 3},
    {"name": "ê³¼í•™", "unit": 3},
    {"name": "í•œêµ­ì‚¬", "unit": 3},
    {"name": "ì •ë³´", "unit": 3}
]

st.subheader("ğŸ“ ê³¼ëª©ë³„ ë“±ê¸‰ ì…ë ¥ (5ë“±ê¸‰ì œ)")

subject_grades = {}
total_score = 0
total_units = 0

# ì‚¬ìš©ì ì…ë ¥ ë°›ê¸°
for subj in subjects:
    grade = st.selectbox(f"{subj['name']} ë“±ê¸‰", list(grade_score.keys()), key=subj["name"])
    score = grade_score[grade]
    total_score += score * subj["unit"]
    total_units += subj["unit"]
    subject_grades[subj["name"]] = score

# í‰ê·  ê³„ì‚°
avg_grade = round(total_score / total_units, 2)

st.subheader("ğŸ“Š ë‚´ì‹  í‰ê·  ë“±ê¸‰ ê²°ê³¼")
st.write(f"ğŸ“Œ **ê°€ì¤‘ í‰ê·  ë“±ê¸‰**: {avg_grade} ë“±ê¸‰")

# ğŸ“ ëŒ€í•™ ì˜ˆì¸¡ ê¸°ì¤€ í•¨ìˆ˜
def predict_university(avg):
    if avg <= 1.10:
        return "ğŸ† ì˜ëŒ€, ì¹˜ëŒ€, í•œì˜ëŒ€, ì•½ëŒ€, ìˆ˜ì˜ëŒ€, SKY(ì„œìš¸ëŒ€/ì—°ì„¸ëŒ€/ê³ ë ¤ëŒ€)"
    elif avg <= 1.20:
        return "ğŸ¥‡ ì„œê°•ëŒ€, ì„±ê· ê´€ëŒ€, í•œì–‘ëŒ€(ì„œìš¸), ì´í™”ì—¬ëŒ€"
    elif avg <= 1.30:
        return "ğŸ¯ ì¤‘ê²½ì™¸ì‹œ, ê±´êµ­ëŒ€(ì„œìš¸), ë™êµ­ëŒ€, í™ìµëŒ€, ì„œìš¸ì‹œë¦½ëŒ€"
    elif avg <= 1.40:
        return "âœ… ìˆ™ëª…ì—¬ëŒ€, ì„œìš¸ì—¬ëŒ€, ì„¸ì¢…ëŒ€, ëª…ì§€ëŒ€, ê°€ì²œëŒ€"
    elif avg <= 1.55:
        return "ğŸ’¡ ìˆ­ì‹¤ëŒ€, ë‹¨êµ­ëŒ€, ì•„ì£¼ëŒ€, ê´‘ìš´ëŒ€, êµ­ë¯¼ëŒ€, ìƒëª…ëŒ€"
    elif avg <= 1.80:
        return "ğŸ“˜ ì„œìš¸ê³¼ê¸°ëŒ€, ë•ì„±ì—¬ëŒ€, í•œì„±ëŒ€, í•œì‹ ëŒ€, ì„œê²½ëŒ€"
    elif avg <= 2.10:
        return "ğŸ” ì¸í•˜ëŒ€, ì¸ì²œëŒ€, ê²½ê¸°ëŒ€, ê°€í†¨ë¦­ëŒ€ ë“± ìˆ˜ë„ê¶Œ ì ì„±ì „í˜•/ë…¼ìˆ  ëŒ€í•™"
    elif avg <= 2.50:
        return "ğŸ« ì „ë¶ëŒ€, ì „ë‚¨ëŒ€, ì¶©ë‚¨ëŒ€, ê²½ë¶ëŒ€, ë¶€ê²½ëŒ€ ë“± ì§€ë°© ê±°ì  êµ­ë¦½ëŒ€"
    elif avg <= 3.20:
        return "ğŸª´ ëŒ€êµ¬ëŒ€, í•œë‚¨ëŒ€, ìš°ì„ëŒ€, ì°½ì›ëŒ€, ê³„ëª…ëŒ€ ë“± ì§€ë°© ì‚¬ë¦½ëŒ€"
    else:
        return "ğŸ“‰ ì „ë¬¸ëŒ€í•™ / ì‹¤ê¸°Â·íŠ¹ê¸°ì / ì§ì—…ê³„ê³  ì „í˜• ì¶”ì²œ"

# ëŒ€í•™ ì˜ˆì¸¡ ê²°ê³¼ ì¶œë ¥
st.subheader("ğŸ“ ì˜ˆìƒ ì§€ì› ê°€ëŠ¥ ëŒ€í•™êµ°")
st.success(f"ğŸ‘‰ {predict_university(avg_grade)}")

# ì„±ì  ë‚®ì€ ê³¼ëª© ë³´ì™„ ì „ëµ
st.subheader("ğŸ’¡ ë³´ì™„ ì „ëµ: ê°œì„ í•˜ë©´ íš¨ê³¼ í° ê³¼ëª©")
weak_subjects = sorted(subject_grades.items(), key=lambda x: -x[1])[:2]

for subj, score in weak_subjects:
    if score > 1.0:
        st.info(f"ğŸ“Œ **{subj}** í˜„ì¬ {score}ë“±ê¸‰ â†’ ì„±ì  í–¥ìƒ ì‹œ ì „ì²´ í‰ê·  ë“±ê¸‰ ê°œì„  íš¨ê³¼ í¼!")

# ì•ˆë‚´
st.markdown("---")
st.caption("ğŸ” ë³¸ ë¶„ì„ì€ 2028 ëŒ€ì… ì ˆëŒ€í‰ê°€ 5ë“±ê¸‰ì œ + ë‹¨ìœ„ìˆ˜ ê¸°ë°˜ ë‚´ì‹  ê°€ì¤‘ í‰ê· ì„ ê¸°ì¤€ìœ¼ë¡œ í•©ë‹ˆë‹¤.")
