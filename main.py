import streamlit as st

# --- ì•± ì œëª© ---
st.title("ğŸ“ ë‚´ì‹  ì„±ì  ë¶„ì„ê¸° (ìˆ˜ì—…ì‹œê°„ ë°˜ì˜)")
st.write("ê³¼ëª©ë³„ ë“±ê¸‰ì„ ì…ë ¥í•˜ë©´ ìˆ˜ì—…ì‹œìˆ˜ë¥¼ ë°˜ì˜í•œ ë‚´ì‹  í‰ê· ê³¼ ì˜ˆìƒ ëŒ€í•™ ìˆ˜ì¤€ì„ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.")

# --- ê³¼ëª© ë° ì‹œìˆ˜ ì„¤ì • ---
subject_info = {
    "êµ­ì–´": 4,
    "ì˜ì–´": 4,
    "ìˆ˜í•™": 4,
    "ì‚¬íšŒ": 3,
    "ê³¼í•™": 3,
    "í•œêµ­ì‚¬": 3,
    "ì •ë³´": 3
}

# --- ë“±ê¸‰ ì…ë ¥ ---
st.subheader("ğŸ“ ê³¼ëª©ë³„ ë“±ê¸‰ ì…ë ¥ (1~9)")
grades = {}
for subject in subject_info:
    grades[subject] = st.selectbox(f"{subject} ë“±ê¸‰", list(range(1, 10)), key=subject)

# --- ê°€ì¤‘ í‰ê·  ë‚´ì‹  ê³„ì‚° ---
total_score = sum(grades[subject] * subject_info[subject] for subject in grades)
total_hours = sum(subject_info.values())
weighted_avg = round(total_score / total_hours, 2)

# ì£¼ìš”ê³¼ëª© (êµ­ì˜ìˆ˜ì‚¬ê³¼)
main_subjects = ["êµ­ì–´", "ì˜ì–´", "ìˆ˜í•™", "ì‚¬íšŒ", "ê³¼í•™"]
main_score = sum(grades[s] * subject_info[s] for s in main_subjects)
main_hours = sum(subject_info[s] for s in main_subjects)
main_avg = round(main_score / main_hours, 2)

# --- ëŒ€í•™ ì˜ˆì¸¡ ---
def predict_university(avg):
    if avg <= 1.5:
        return "âœ… **ìƒìœ„ê¶Œ ëŒ€í•™** (ì„œì„±í•œÂ·ì¤‘ê²½ì™¸ì‹œÂ·ì„œìš¸ê³¼ê¸°ëŒ€ ë“±) ê°€ëŠ¥ì„±ì´ ë†’ì•„ìš”."
    elif avg <= 2.5:
        return "ğŸ¯ **ì¸ì„œìš¸ ëŒ€í•™** (ê±´êµ­Â·í™ìµÂ·ìˆ­ì‹¤Â·ì„¸ì¢… ë“±) ì¶©ë¶„íˆ ê°€ëŠ¥í•©ë‹ˆë‹¤."
    elif avg <= 3.5:
        return "ğŸ™‚ **ìˆ˜ë„ê¶Œ ëŒ€í•™** (ê°€ì²œÂ·ê²½ê¸°Â·ë‹¨êµ­Â·ê´‘ìš´ ë“±) ì§€ì›ê¶Œì…ë‹ˆë‹¤."
    elif avg <= 4.5:
        return "ğŸ” **ì§€ë°©êµ­ë¦½Â·ì§€ë°© ì‚¬ë¦½ëŒ€** ì¤‘ì‹¬ìœ¼ë¡œ ì „ëµì„ ì„¸ì›Œë³´ì„¸ìš”."
    else:
        return "ğŸ“˜ **ì „ë¬¸ëŒ€Â·ì ì„±ê³ ì‚¬ ëŒ€í•™** ì¤‘ì‹¬ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ê²ƒì´ ì¢‹ì•„ìš”."

# --- ì¶œë ¥ ê²°ê³¼ ---
st.subheader("ğŸ“Š ë‚´ì‹  ë¶„ì„ ê²°ê³¼")
st.write(f"ğŸ“Œ **ê°€ì¤‘ í‰ê·  ë“±ê¸‰** (ì „ì²´): {weighted_avg}")
st.write(f"ğŸ“Œ **ì£¼ìš” ê³¼ëª© í‰ê· ** (êµ­ì˜ìˆ˜ì‚¬ê³¼): {main_avg}")
st.markdown(predict_university(main_avg))

# --- ê³¼ëª©ë³„ í”¼ë“œë°± ---
st.subheader("ğŸ’¡ ê³¼ëª©ë³„ ê°œì„  íŒ")
if grades["ì˜ì–´"] >= 4:
    st.info("ğŸ’¡ ì˜ì–´ ì„±ì ì„ 3ë“±ê¸‰ ì´ë‚´ë¡œ ëŒì–´ì˜¬ë¦¬ë©´ ìƒìœ„ê¶Œ ê°€ëŠ¥ì„±ì´ í™• ì˜¬ë¼ê°‘ë‹ˆë‹¤!")
if grades["ìˆ˜í•™"] >= 5:
    st.info("ğŸ“ ìˆ˜í•™ ì„±ì ì„ ë³´ì™„í•˜ë©´ ì£¼ìš”ê³¼ëª© í‰ê· ì´ ëˆˆì— ë„ê²Œ ê°œì„ ë¼ìš”.")
if grades["í•œêµ­ì‚¬"] >= 5:
    st.info("ğŸ—ºï¸ í•œêµ­ì‚¬ ë“±ê¸‰ë„ ë°˜ì˜ë©ë‹ˆë‹¤. ì•ˆì •ì ì¸ 3ë“±ê¸‰ ì´ìƒ ìœ ì§€ê°€ ì¢‹ì•„ìš”.")

# --- ë¦¬ì…‹ ì•ˆë‚´ ---
st.markdown("---")
st.caption("â€» ë“±ê¸‰ì„ ë³€ê²½í•˜ë©´ ìë™ìœ¼ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤.")
