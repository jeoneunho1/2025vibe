import streamlit as st

# --- ì•± ì œëª© ---
st.title("ğŸ“ ë‚´ì‹  ì„±ì  ë¶„ì„ê¸° (5ë“±ê¸‰ì œ)")
st.write("ê³¼ëª©ë³„ 5ë“±ê¸‰ì œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚´ì‹  í‰ê· ê³¼ ëŒ€í•™ ì§„í•™ ê°€ëŠ¥ì„±ì„ ë¶„ì„í•´ë“œë¦½ë‹ˆë‹¤!")

# --- ê³¼ëª© ë° ìˆ˜ì—…ì‹œìˆ˜ ì •ë³´ ---
subject_info = {
    "êµ­ì–´": 4,
    "ì˜ì–´": 4,
    "ìˆ˜í•™": 4,
    "ì‚¬íšŒ": 3,
    "ê³¼í•™": 3,
    "í•œêµ­ì‚¬": 3,
    "ì •ë³´": 3
}

# --- ë“±ê¸‰ ì…ë ¥ (1.0~5.0, 0.5 ê°„ê²©) ---
st.subheader("ğŸ“ ê³¼ëª©ë³„ ì„±ì  ì…ë ¥ (5ë“±ê¸‰ì œ)")
grade_options = [round(x * 0.5, 1) for x in range(2, 11)]  # 1.0 ~ 5.0
grades = {}
for subject in subject_info:
    grades[subject] = st.selectbox(f"{subject} ë“±ê¸‰", grade_options, key=subject)

# --- ê°€ì¤‘ í‰ê·  ê³„ì‚° ---
total_score = sum(grades[s] * subject_info[s] for s in grades)
total_hours = sum(subject_info.values())
weighted_avg = round(total_score / total_hours, 2)

main_subjects = ["êµ­ì–´", "ì˜ì–´", "ìˆ˜í•™", "ì‚¬íšŒ", "ê³¼í•™"]
main_score = sum(grades[s] * subject_info[s] for s in main_subjects)
main_hours = sum(subject_info[s] for s in main_subjects)
main_avg = round(main_score / main_hours, 2)

# --- ëŒ€í•™ ì˜ˆì¸¡ í•¨ìˆ˜ (5ë“±ê¸‰ ê¸°ì¤€) ---
def predict_university(avg):
    if avg <= 1.2:
        return "ğŸ† **SKY (ì„œìš¸ëŒ€, ì—°ì„¸ëŒ€, ê³ ë ¤ëŒ€)** ì§„í•™ ê°€ëŠ¥ì„±ì„ ê¸°ëŒ€í•  ìˆ˜ ìˆì–´ìš”."
    elif avg <= 1.6:
        return "ğŸ¥‡ **ì„œì„±í•œÂ·ì¤‘ê²½ì™¸ì‹œÂ·ì„œìš¸ì‹œë¦½ëŒ€** ì§„í•™ê¶Œì…ë‹ˆë‹¤."
    elif avg <= 2.0:
        return "ğŸ¯ **ê±´êµ­ëŒ€, í™ìµëŒ€, ìˆ™ëª…ì—¬ëŒ€, ìˆ­ì‹¤ëŒ€ ë“± ì¸ì„œìš¸ ì¤‘ìœ„ê¶Œ** ê°€ëŠ¥ì„±ì´ ë†’ì•„ìš”."
    elif avg <= 2.5:
        return "âœ… **ê°€ì²œëŒ€, ê´‘ìš´ëŒ€, ëª…ì§€ëŒ€, ìƒëª…ëŒ€ ë“± ìˆ˜ë„ê¶Œ ìƒìœ„ ëŒ€í•™** ì§€ì› ê°€ëŠ¥ê¶Œì…ë‹ˆë‹¤."
    elif avg <= 3.0:
        return "ğŸ™‚ **ê²½ê¸°ëŒ€, í•œì„±ëŒ€, ë•ì„±ì—¬ëŒ€ ë“± ìˆ˜ë„ê¶Œ í•˜ìœ„ ëŒ€í•™**ë„ ì¶©ë¶„íˆ ë…¸ë ¤ë³¼ ìˆ˜ ìˆì–´ìš”."
    elif avg <= 3.5:
        return "ğŸ” **ì§€ë°© êµ­ë¦½ëŒ€, ì§€ì—­ê±°ì ëŒ€** ì¤‘ì‹¬ ì „ëµì´ ì¢‹ì•„ìš”."
    elif avg <= 4.0:
        return "ğŸ« **ì§€ë°© ì‚¬ë¦½ëŒ€, ì ì„±ê³ ì‚¬ ì „í˜•** ìœ„ì£¼ë¡œ ì ‘ê·¼í•´ë³´ì„¸ìš”."
    else:
        return "ğŸ“˜ **ì „ë¬¸ëŒ€/ì‹¤ê¸°ì „í˜•/íŠ¹ê¸°ì ì „í˜•** ì „ëµì´ í•„ìš”í•©ë‹ˆë‹¤."

# --- ê²°ê³¼ ì¶œë ¥ ---
st.subheader("ğŸ“Š ë¶„ì„ ê²°ê³¼")
st.write(f"ğŸ“Œ **ì „ì²´ ê°€ì¤‘ í‰ê·  ë“±ê¸‰**: {weighted_avg}")
st.write(f"ğŸ“Œ **ì£¼ìš”ê³¼ëª© í‰ê·  ë“±ê¸‰ (êµ­ì˜ìˆ˜ì‚¬ê³¼)**: {main_avg}")
st.markdown(predict_university(main_avg))

# --- í”¼ë“œë°± ---
st.subheader("ğŸ’¡ ê³¼ëª©ë³„ ê°œì„  íŒ")
if grades["ì˜ì–´"] >= 3.5:
    st.info("ğŸ’¡ ì˜ì–´ëŠ” ìˆ˜ëŠ¥ê³¼ ë¹„êµê³¼ ëª¨ë‘ ì¤‘ìš”í•©ë‹ˆë‹¤. 3ë“±ê¸‰ ì´ë‚´ ìœ ì§€ê°€ ì¢‹ì•„ìš”.")
if grades["ìˆ˜í•™"] >= 4.0:
    st.info("ğŸ“ ìˆ˜í•™ ì„±ì ì„ ì˜¬ë¦¬ë©´ ìì—°ê³„/ê³µëŒ€ ì§„í•™ ì‹œ ë” ìœ ë¦¬í•©ë‹ˆë‹¤.")
if grades["í•œêµ­ì‚¬"] >= 4.0:
    st.info("ğŸ—ºï¸ í•œêµ­ì‚¬ëŠ” ìˆ˜ì‹œ ê°€ì‚°ì ì— ì˜í–¥ì´ ìˆìœ¼ë‹ˆ 3ë“±ê¸‰ ì´ìƒ ìœ ì§€ ì¶”ì²œ!")

# --- ì•ˆë‚´ ---
st.markdown("---")
st.caption("â€» ëª¨ë“  ê³„ì‚°ì€ ìˆ˜ì—… ì‹œìˆ˜ ê¸°ë°˜ ê°€ì¤‘ í‰ê· ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.")
